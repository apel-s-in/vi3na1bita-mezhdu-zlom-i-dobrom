<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>VR Admin</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Arial,sans-serif;background:#0f1218;color:#e8eefc;margin:0}
    header{padding:12px 16px;background:#171d29;border-bottom:1px solid #2b3955;display:flex;align-items:center;gap:10px}
    h1{font-size:16px;margin:0;color:#9fc3ff}
    .tabs{display:flex;gap:8px;margin-left:auto}
    .tab{border:1px solid #2b3955;background:#1a2131;color:#cfe3ff;padding:6px 10px;border-radius:999px;cursor:pointer}
    .tab.active{background:#4daaff;color:#fff;border-color:#4daaff}
    main{display:grid;grid-template-columns:1fr 1fr;gap:12px;padding:12px;align-items:start}
    .card{background:#171d29;border:1px solid #2b3955;border-radius:10px;padding:10px}
    .row{display:flex;gap:8px;align-items:center;justify-content:space-between;padding:6px 0;border-bottom:1px dashed rgba(255,255,255,0.07)}
    .row:last-child{border-bottom:none}
    .muted{color:#9aa8c4}
    .btn{border:none;border-radius:8px;background:#2a3550;color:#e8eefc;padding:6px 10px;cursor:pointer}
    .btn.primary{background:#E80100}
    .btn.warn{background:#8a2a2a}
    .btn.ok{background:#27b34c}
    input,textarea,select{background:#111826;color:#e8eefc;border:1px solid #2b3955;border-radius:8px;padding:7px}
    .list{max-height:70vh;overflow:auto}
    .pill{font-size:.9em;border:1px solid #2b3955;background:#1e2638;border-radius:999px;padding:2px 8px;color:#cfe3ff}
    .pill.status-pending   { background:#3a2c14; border-color:#6b4b14; color:#ffb84d; }
    .pill.status-approved  { background:#1f3a29; border-color:#2f7a4e; color:#6df59a; }
    .pill.status-shipped   { background:#1f3a29; border-color:#2f7a4e; color:#6df59a; }
    .pill.status-delivered { background:#1f3a29; border-color:#2f7a4e; color:#6df59a; }
    .pill.status-rejected  { background:#3a1f1f; border-color:#7a2f2f; color:#ff9b9b; }
    .flex{display:flex;gap:8px;align-items:center}
    .w100{width:100%}
    .split{display:grid;grid-template-columns:300px 1fr;gap:12px}
    .msg{padding:8px 10px;border-radius:10px;margin:6px 0;max-width:88%}
    .msg.user{background:#20283a}
    .msg.admin{background:#203020;margin-left:auto}
    .login-modal{position:fixed;inset:0;background:#0008;display:flex;align-items:center;justify-content:center}
    .login-box{background:#171d29;border:1px solid #2b3955;border-radius:12px;padding:16px;min-width:280px}
    .footer{padding:10px;text-align:center;color:#9aa8c4}
    .search{display:flex;gap:8px;margin-bottom:8px;flex-wrap:wrap}

    .chart-row{display:grid;grid-template-columns:34px 1fr 40px;gap:8px;align-items:center;margin:2px 0}
    .chart-row .bar{background:#101522;border:1px solid #2b3955;border-radius:6px;height:10px;overflow:hidden}
    .chart-row .fill{background:#4daaff;height:100%}

    .checkbox-container{display:flex;align-items:center;gap:8px;cursor:pointer;user-select:none}
    .checkbox-container input[type="checkbox"]{width:16px;height:16px}

    .ach-grid{display:grid;grid-template-columns:1fr;gap:6px}
    .ach-head{display:flex;gap:6px;align-items:center;flex-wrap:wrap;margin-bottom:6px}
    .badge{display:inline-block;padding:2px 8px;border-radius:999px;background:#1e2638;border:1px solid #2b3955;color:#cfe3ff;font-size:.85em}
    .badge.ok{background:#203020;border-color:#2f7a4e;color:#6df59a}
    .badge.err{background:#3a1f1f;border-color:#7a2f2f;color:#ff9b9b}
    .group-title{font-weight:800;letter-spacing:.04em;color:#9fc3ff;font-size:.9em;margin:8px 0 6px 0;text-transform:uppercase}
    .ach-row{display:flex;gap:8px;align-items:center;justify-content:space-between;padding:6px 0;border-bottom:1px dashed rgba(255,255,255,0.07)}
    .ach-row:last-child{border-bottom:none}
    .ach-id{color:#9aa8c4;font-size:.9em;margin-left:8px}
    .right-col{background:#141a25;border:1px solid #2b3955;border-radius:10px;padding:10px}
    .kbd{display:inline-block;background:#222d3f;border:1px solid #2b3955;border-radius:6px;padding:2px 6px;font-family:monospace;font-size:.86em;color:#cfe3ff}
    .hint{color:#9aa8c4;font-size:.95em;line-height:1.5}
    .hr{height:1px;background:#2b3955;margin:8px 0}
  </style>
</head>
<body>
  <header>
    <h1>VR Admin</h1>
    <div class="tabs">
      <button class="tab active" id="tab-claims">Заявки</button>
      <button class="tab" id="tab-devices">Устройства</button>
      <button class="tab" id="tab-backups">Бэкапы</button>
      <button class="tab" id="tab-logs">Логи</button>
      <button class="tab" id="tab-stats">Статистика</button>
      <button class="tab" id="tab-demo">DEMO</button>
      <button class="tab" id="tab-fb">Обратная связь</button>
      <button class="tab" id="tab-prizes">Призы</button>
      <button class="tab" id="tab-logout" title="Выйти">Logout</button>
    </div>
  </header>

  <!-- Заявки -->
  <main id="view-claims">
    <div class="card">
      <div class="search">
        <select id="claims-status" title="Статус">
          <option value="">Все статусы</option>
          <option value="pending">pending</option>
          <option value="approved">approved</option>
          <option value="rejected">rejected</option>
          <option value="shipped">shipped</option>
          <option value="delivered">delivered</option>
        </select>
        <label class="muted">с</label>
        <input type="date" id="claims-from" />
        <label class="muted">по</label>
        <input type="date" id="claims-to" />
        <button class="btn" onclick="resetPaging();loadClaims()">Применить</button>
        <button class="btn" onclick="exportClaimsCSV()">Экспорт CSV</button>
        <div style="margin-left:auto;display:flex;gap:6px;align-items:center;">
          <button class="btn" onclick="prevPage()">◀</button>
          <span class="muted" id="claims-page-label">1</span>
          <button class="btn" onclick="nextPage()">▶</button>
        </div>
      </div>
      <div class="list" id="claims-list"></div>
    </div>
    <div class="card">
      <div class="muted">Клик по заявке слева — для действий</div>
      <div id="claim-details" class="muted" style="margin-top:8px;">Ничего не выбрано</div>
      <div style="margin-top:10px;display:none" id="claim-actions">
        <div id="claim-meta" class="muted" style="margin-bottom:8px;"></div>

        <div class="flex"><label class="muted">Причина (для rejected):</label><input class="w100" id="claim-reason" placeholder="Причина..."></div>
        <div style="margin-top:8px;" class="flex">
          <button class="btn ok" onclick="updateClaim('approved')">Одобрить</button>
          <button class="btn warn" onclick="updateClaim('rejected')">Отклонить</button>
          <button class="btn" onclick="updateClaim('pending')">Вернуть в pending</button>
        </div>

        <hr style="border-color:#2b3955;margin:10px 0;">

        <div class="flex">
          <input class="w100" id="claim-tracking" placeholder="Трек‑номер (для shipped)">
          <button class="btn" onclick="setTracking()">Отправлено</button>
          <button class="btn" onclick="markDelivered()">Получено</button>
        </div>

        <hr style="border-color:#2b3955;margin:10px 0;">

        <div class="flex">
          <label class="muted" style="min-width:90px;">Цвет:</label>
          <select id="adm-color">
            <option value="">—</option>
            <option value="orange">оранжевый (ждёт)</option>
            <option value="green">зелёный (ок)</option>
            <option value="red">красный</option>
            <option value="violet">фиолетовый (напоминание)</option>
          </select>
        </div>
        <div class="flex" style="margin-top:6px;">
          <label class="muted" style="min-width:90px;">Метки:</label>
          <input class="w100" id="adm-tags" placeholder="через запятую">
        </div>
        <div class="flex" style="margin-top:6px;">
          <label class="muted" style="min-width:90px;">Напоминание:</label>
          <input type="datetime-local" id="adm-due">
        </div>
        <div class="flex" style="margin-top:6px;">
          <textarea id="adm-note" class="w100" placeholder="Заметка администратора"></textarea>
        </div>
        <div class="flex" style="margin-top:6px;">
          <button class="btn" onclick="saveClaimMeta()">Сохранить мета</button>
          <button class="btn warn" onclick="deleteClaim()">Удалить заявку</button>
        </div>

        <hr style="border-color:#2b3955;margin:10px 0;">

        <div class="muted">История</div>
        <div class="list" id="claim-events" style="max-height:240px;"></div>

        <hr style="border-color:#2b3955;margin:10px 0;">

        <div style="font-weight:700; margin-bottom:6px;">VIP — кошелёк пользователя</div>
        <div class="flex" style="flex-wrap:wrap; gap:6px;">
          <input id="vip-tg" placeholder="tg_id (опц.)" style="min-width:160px;">
          <input id="vip-user-id" placeholder="user_id (опц.)" style="min-width:260px;">
        </div>
        <div class="flex" style="margin-top:6px; flex-wrap:wrap; gap:6px;">
          <input id="vip-delta" placeholder="Δ коины (например, 100 или -50)" style="min-width:180px;">
          <input id="vip-reason" placeholder="Причина (например, bonus|penalty)" style="min-width:220px;">
        </div>
        <div class="flex" style="margin-top:6px; flex-wrap:wrap; gap:6px;">
          <button class="btn ok" onclick="adminVipAdjust(1)">Начислить</button>
          <button class="btn warn" onclick="adminVipAdjust(-1)">Списать</button>
          <button class="btn" onclick="quickVipBonus(100)">+100</button>
          <button class="btn" onclick="quickVipBonus(500)">+500</button>
        </div>
        <div class="muted" id="vip-tx-msg" style="margin-top:6px;"></div>
      </div>
    </div>
  </main>

  <!-- Устройства -->
  <main id="view-devices" style="display:none">
    <div class="card">
      <div class="search">
        <input id="dev-q" placeholder="Поиск device_hash / имя / tg_id..." class="w100">
        <button class="btn" onclick="loadDevices()">Искать</button>
      </div>
      <div class="list" id="devices-list"></div>
    </div>
    <div class="card">
      <div class="muted">Клик по устройству слева — для копирования device_hash</div>
      <div id="devices-details" class="muted" style="margin-top:8px;">—</div>
    </div>
  </main>

  <!-- Бэкапы -->
  <main id="view-backups" style="display:none">
    <div class="card">
      <div class="search">
        <button class="btn" onclick="loadBackups()">Обновить</button>
      </div>
      <div class="list" id="backups-list"></div>
    </div>
    <div class="card">
      <div class="muted">Просмотр бэкапа (read‑only)</div>
      <pre id="backup-viewer" style="max-height:70vh; overflow:auto; background:#0f1218; border:1px solid #2b3955; border-radius:10px; padding:10px; color:#cfe3ff;"></pre>
    </div>
  </main>

  <!-- Логи -->
  <main id="view-logs" style="display:none">
    <div class="card">
      <div class="search" style="gap:8px;">
        <select id="logs-type" title="Тип">
          <option value="">Все типы</option>
          <option value="claim_create">claim_create</option>
          <option value="claim_update">claim_update</option>
          <option value="claim_shipped">claim_shipped</option>
          <option value="claim_delivered">claim_delivered</option>
          <option value="claim_cancel">claim_cancel</option>
          <option value="feedback">feedback</option>
          <option value="tg_link">tg_link</option>
          <option value="backup_save">backup_save</option>
          <option value="backup_user_latest">backup_user_latest</option>
          <option value="event_ingest">event_ingest</option>
          <option value="event_denied">event_denied</option>
        </select>
        <label class="muted">с</label>
        <input type="datetime-local" id="logs-from">
        <label class="muted">по</label>
        <input type="datetime-local" id="logs-to">
        <input id="logs-pkey" placeholder="payload ключ (a.b.c)" style="min-width:180px;">
        <select id="logs-pop" title="Оператор">
          <option value="contains">contains</option>
          <option value="eq">=</option>
          <option value="ne">≠</option>
          <option value="gt">&gt;</option>
          <option value="lt">&lt;</option>
          <option value="ge">≥</option>
          <option value="le">≤</option>
        </select>
        <input id="logs-pval" placeholder="значение" style="min-width:140px;">
        <button class="btn" onclick="loadLogs()">Применить</button>
        <button class="btn" onclick="exportLogs('csv')">Экспорт CSV</button>
        <button class="btn" onclick="exportLogs('ndjson')">Экспорт NDJSON</button>
        <button class="btn warn" onclick="deleteSelectedLogs()">Удалить выбранные</button>
      </div>
      <div class="list" id="logs-list"></div>
    </div>
    <div class="card">
      <div class="muted">Детали лога</div>
      <pre id="log-details" style="max-height:70vh; overflow:auto; background:#0f1218; border:1px solid #2b3955; border-radius:10px; padding:10px; color:#cfe3ff;"></pre>
    </div>
  </main>

  <!-- Статистика -->
  <main id="view-stats" style="display:none">
    <div class="card">
      <div class="search">
        <button class="btn" onclick="loadMetrics()">Обновить</button>
      </div>
      <div id="metrics-box" class="list"></div>

      <div class="card" style="margin-top:8px;">
        <div style="font-weight:700;margin-bottom:8px;">Глобальная статистика — управление</div>
        <div class="row">
          <div>Общий выключатель</div>
          <div><label class="muted">masterEnabled</label> <input type="checkbox" id="gs-master"></div>
        </div>
        <div class="row">
          <div>Отправка с клиентов (/event)</div>
          <div><label class="muted">sendEnabled</label> <input type="checkbox" id="gs-send"></div>
        </div>
        <div class="row">
          <div>Показывать UI в приложении</div>
          <div><label class="muted">showUI</label> <input type="checkbox" id="gs-ui"></div>
        </div>
        <div class="row">
          <div>Требовать Turnstile</div>
          <div><label class="muted">requireTurnstile</label> <input type="checkbox" id="gs-ts"></div>
        </div>
        <div class="row">
          <div>Включить монитор в админке</div>
          <div><label class="muted">monitorEnabled</label> <input type="checkbox" id="gs-mon"></div>
        </div>
        <div class="row">
          <div>Собирать очередь клиентов</div>
          <div><label class="muted">collectClientQueue</label> <input type="checkbox" id="gs-cq"></div>
        </div>
        <div class="flex" style="margin-top:8px;">
          <button class="btn ok" onclick="saveGsConfig()">Сохранить</button>
          <button class="btn" onclick="loadGsConfig()">Обновить</button>
        </div>
      </div>
    </div>

    <div class="card">
      <div class="muted">Дополнительно</div>
      <div class="muted">Здесь можно будет добавить графики/гео после подключения соответствующих источников.</div>
      <div class="card" style="margin-top:8px;">
        <div style="font-weight:700;margin-bottom:6px;">Распределение (по часам/по дням) — рендерится в приложении у пользователей; в админке пока только сводка по цифрам</div>
        <div id="stats-note" class="muted">Данные берутся из /top?period=all|today|week|month</div>
      </div>
    </div>

    <div class="card" id="gs-health-card" style="margin-top:8px; display:none;">
      <div style="font-weight:700;margin-bottom:8px;">Монитор /event (последние 5 минут)</div>
      <div class="row"><div>OK</div><div class="muted" id="m-ok">0</div></div>
      <div class="row"><div>403 (Turnstile)</div><div class="muted" id="m-403">0</div></div>
      <div class="row"><div>429 (Rate limit)</div><div class="muted" id="m-429">0</div></div>
      <div class="row"><div>Иные отказы</div><div class="muted" id="m-other">0</div></div>
      <div class="row"><div>Очередь клиентов (avg / max)</div><div class="muted"><span id="m-q-avg">0</span> / <span id="m-q-max">0</span></div></div>
      <div class="flex" style="margin-top:8px;">
        <button class="btn" onclick="loadGsHealth()">Обновить</button>
      </div>
    </div>
  </main>

  <!-- DEMO -->
  <main id="view-demo" style="display:none">
    <div class="card">
      <div class="search" style="gap:8px;">
        <input id="demo-tg" placeholder="tg_id" value="118759359" style="min-width:160px;">
        <button class="btn" onclick="loadDemoPanel()">Загрузить</button>
      </div>

      <div class="row">
        <div>Режим</div>
        <div><label class="muted">DEMO</label> <input type="checkbox" id="demo-mode"></div>
      </div>

      <div class="row">
        <div>Имя в DEMO<br><span class="muted">(видно пользователю)</span></div>
        <div style="display:flex;gap:8px;align-items:center;">
          <input id="demo-dn" placeholder="VR Admin" style="min-width:160px;">
          <span class="badge" id="demo-level-pill" title="Текущий уровень демо-аккаунта">Уровень: —</span>
        </div>
      </div>

      <div class="flex" style="margin-top:8px;flex-wrap:wrap;gap:8px;">
        <button class="btn ok" onclick="saveDemoMode()">Сохранить режим</button>
        <button class="btn" onclick="buildAndSaveDemoBackup()">Сохранить DEMO‑бэкап</button>
        <button class="btn warn" onclick="resetDemoClaims()">Очистить DEMO‑заявки</button>
      </div>

      <div class="card" style="margin-top:8px;">
        <div class="ach-head">
          <div class="badge">Всего достижений: <b id="demo-total">—</b></div>
          <div class="badge ok">Отмечено: <b id="demo-checked">—</b></div>
          <div class="badge" id="demo-visible-badge">Видимых: —</div>
          <div class="badge" id="demo-secret-badge">Секретных: —</div>
        </div>

        <div class="flex" style="flex-wrap:wrap;gap:6px;margin-bottom:8px;">
          <button class="btn" onclick="markAllVisible(true)">Отметить видимые</button>
          <button class="btn" onclick="markAllSecret(true)">Отметить секретные</button>
          <button class="btn" onclick="markAll(true)">Отметить все 34</button>
          <button class="btn warn" onclick="markAll(false)">Снять всё</button>
        </div>

        <div class="flex" style="flex-wrap:wrap;gap:6px;margin-bottom:8px;">
          <button class="btn" onclick="preset5()">Пресет: 5 уровней</button>
          <button class="btn" onclick="presetFirstPrize()">Пресет: для 1‑го приза</button>
          <button class="btn" onclick="presetSecondPrize()">Пресет: для 2‑го приза</button>
        </div>

        <div id="demo-hint" class="muted" style="margin-bottom:8px;">—</div>

        <div id="demo-ach-box" class="list" style="max-height:60vh; padding-right:6px;"></div>
      </div>
    </div>

    <div class="card">
      <div style="font-weight:700;margin-bottom:8px;">DEMO‑заявки</div>
      <div class="flex" style="gap:8px; flex-wrap:wrap; margin-bottom:8px;">
        <input id="demo-device" placeholder="device_hash (опц.)" style="min-width:220px;">
        <button class="btn" onclick="demoLoadClaims()">Обновить</button>
      </div>
      <div id="demo-claims-list" class="list" style="max-height:40vh;"></div>
      <div class="flex" style="gap:6px; margin-top:8px; flex-wrap:wrap;">
        <input id="demo-claim-id" placeholder="claim_id" style="min-width:220px;">
        <input id="demo-tracking" placeholder="трек-номер (для shipped)" style="min-width:220px;">
      </div>
      <div class="flex" style="gap:6px; margin-top:8px; flex-wrap:wrap;">
        <button class="btn" onclick="demoSetShipped()">Отправлено (трек)</button>
        <button class="btn ok" onclick="demoSetDelivered()">Доставлено</button>
        <button class="btn warn" onclick="resetDemoClaims()">Очистить DEMO‑заявки</button>
      <div class="card" style="margin-top:8px;">
        <div style="font-weight:700;margin-bottom:8px;">🎬 Автосценарий</div>

        <div class="row">
          <div>Статус</div>
          <div id="scenario-status" class="badge">не запущен</div>
        </div>

        <div class="row">
          <div>Текущий этап</div>
          <div id="scenario-stage" class="muted">—</div>
        </div>

        <div class="row">
          <div>Выполнено достижений</div>
          <div id="scenario-achievements" class="muted">0</div>
        </div>

        <div class="flex" style="margin-top:8px; flex-wrap:wrap; gap:6px;">
          <label>Скорость:</label>
          <select id="scenario-speed">
            <option value="1">1x</option>
            <option value="2">2x</option>
            <option value="5">5x</option>
            <option value="10">10x</option>
            <option value="0">Мгновенно</option>
          </select>

          <label class="checkbox-container">
            <input type="checkbox" id="scenario-auto-prizes">
            <span>Авто-выбор призов</span>
          </label>
        </div>

        <div class="flex" style="margin-top:8px; flex-wrap:wrap; gap:6px;">
          <button class="btn ok" onclick="startScenario()">▶️ Запустить</button>
          <button class="btn" onclick="pauseScenario()">⏸ Пауза</button>
          <button class="btn warn" onclick="resetScenario()">🔄 Сбросить</button>
          <button class="btn" onclick="refreshScenarioStatus()">Обновить статус</button>
        </div>

        <div class="muted" id="scenario-hint" style="margin-top:8px;">
          Автосценарий последовательно выполняет все достижения с настраиваемой скоростью.
          После выполнения всех видимых достижений требуется выбор приза.
        </div>
      </div>
      </div>
    </div>

    <div class="right-col">
      <div style="font-weight:700;margin-bottom:8px;">Как пользоваться DEMO</div>
      <div class="hint">
        <p><b>Режим DEMO</b> позволяет эмулировать прогресс выбранного tg_id, не влияя на реальные данные и общую статистику.</p>
        <div class="hr"></div>
        <p><b>Шаги:</b></p>
        <ol>
          <li>Укажите <span class="kbd">tg_id</span> и нажмите <span class="kbd">Загрузить</span>.</li>
          <li>Включите тумблер <span class="kbd">DEMO</span> и задайте «Имя в DEMO» (по умолчанию “VR Admin”). Нажмите <span class="kbd">Сохранить режим</span>.</li>
          <li>Выберите нужные достижения галочками или используйте пресеты.</li>
          <li>Нажмите <span class="kbd">Сохранить DEMO‑бэкап</span>. Откройте приложение под этим tg_id — прогресс загрузится автоматически.</li>
        </ol>
        <div class="hr"></div>
        <p><b>Заявки в DEMO:</b> создавайте их в приложении как обычно. В DEMO события /event не портят глобальные счётчики, заявка сохраняется в песочнице.</p>
        <p><b>Индикатор уровня</b> справа от имени показывает текущий прогресс: X / 34.</p>
      </div>
    </div>
  </main>

  <!-- Обратная связь -->
  <main id="view-fb" style="display:none">
    <div class="card">
      <div class="search">
        <input id="fb-q" placeholder="Поиск кода/устройства..." class="w100">
        <button class="btn" onclick="loadThreads()">Искать</button>
      </div>
      <div class="list" id="thread-list"></div>
    </div>
    <div class="card">
      <div id="thread-head" class="muted">Выберите тред слева</div>
      <div class="list" id="msg-list" style="height:50vh;"></div>
      <div class="flex" style="margin-top:8px;">
        <input id="fb-reply" class="w100" placeholder="Ответить...">
        <button class="btn primary" onclick="sendReply()">Отправить</button>
      </div>
    </div>
  </main>

  <!-- Призы -->
  <main id="view-prizes" style="display:none">
    <div class="card">
      <div class="search">
        <button class="btn" onclick="loadPrizesAdmin()">Обновить</button>
      </div>
      <div class="list" id="adm-prizes-list"></div>
    </div>
    <div class="card">
      <div style="font-weight:700;margin-bottom:8px;">Редактор</div>
      <div class="flex" style="flex-direction:column;gap:6px;">
        <input id="adm-prize-id" placeholder="ID (пусто для нового)">
        <input id="adm-prize-title" placeholder="Название">
        <input id="adm-prize-short" placeholder="Коротко">
        <textarea id="adm-prize-long" class="w100" placeholder="Описание"></textarea>
        <input id="adm-prize-img" placeholder="URL картинки (img/...)">
        <div class="flex">
          <button class="btn ok" onclick="savePrize()">Сохранить</button>
          <button class="btn warn" onclick="deletePrize()">Удалить</button>
        </div>
      </div>
    </div>
  </main>

  <div class="footer">v1 • Basic Auth • Работает только по HTTPS</div>

  <div id="login" class="login-modal" style="display:none;">
    <div class="login-box">
      <div style="font-weight:700;margin-bottom:8px;">Вход администратора</div>
      <div class="flex" style="flex-direction:column;gap:6px;">
        <input id="adm-user" placeholder="Логин">
        <input id="adm-pass" placeholder="Пароль" type="password">
        <button class="btn primary" onclick="adminLogin()">Войти</button>
      </div>
      <div id="login-err" class="muted" style="margin-top:8px;color:#ffb3b3;"></div>
    </div>
  </div>

  <!-- Один главный модуль -->
  <script type="module" src="admin/main-admin.js"></script>
</body>
</html>
