<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>VR Admin</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Arial,sans-serif;background:#0f1218;color:#e8eefc;margin:0}
    header{padding:12px 16px;background:#171d29;border-bottom:1px solid #2b3955;display:flex;align-items:center;gap:10px}
    h1{font-size:16px;margin:0;color:#9fc3ff}
    .tabs{display:flex;gap:8px;margin-left:auto}
    .tab{border:1px solid #2b3955;background:#1a2131;color:#cfe3ff;padding:6px 10px;border-radius:999px;cursor:pointer}
    .tab.active{background:#4daaff;color:#fff;border-color:#4daaff}
    main{display:grid;grid-template-columns:1fr 1fr;gap:12px;padding:12px;align-items:start}
    .card{background:#171d29;border:1px solid #2b3955;border-radius:10px;padding:10px}
    .row{display:flex;gap:8px;align-items:center;justify-content:space-between;padding:6px 0;border-bottom:1px dashed rgba(255,255,255,0.07)}
    .row:last-child{border-bottom:none}
    .muted{color:#9aa8c4}
    .btn{border:none;border-radius:8px;background:#2a3550;color:#e8eefc;padding:6px 10px;cursor:pointer}
    .btn.primary{background:#E80100}
    .btn.warn{background:#8a2a2a}
    .btn.ok{background:#27b34c}
    input,textarea,select{background:#111826;color:#e8eefc;border:1px solid #2b3955;border-radius:8px;padding:7px}
    .list{max-height:70vh;overflow:auto}
    .pill{font-size:.9em;border:1px solid #2b3955;background:#1e2638;border-radius:999px;padding:2px 8px;color:#cfe3ff}
    .pill.status-pending   { background:#3a2c14; border-color:#6b4b14; color:#ffb84d; }
    .pill.status-approved  { background:#1f3a29; border-color:#2f7a4e; color:#6df59a; }
    .pill.status-shipped   { background:#1f3a29; border-color:#2f7a4e; color:#6df59a; }
    .pill.status-delivered { background:#1f3a29; border-color:#2f7a4e; color:#6df59a; }
    .pill.status-rejected  { background:#3a1f1f; border-color:#7a2f2f; color:#ff9b9b; }
    .flex{display:flex;gap:8px;align-items:center}
    .w100{width:100%}
    .split{display:grid;grid-template-columns:300px 1fr;gap:12px}
    .msg{padding:8px 10px;border-radius:10px;margin:6px 0;max-width:88%}
    .msg.user{background:#20283a}
    .msg.admin{background:#203020;margin-left:auto}
    .login-modal{position:fixed;inset:0;background:#0008;display:flex;align-items:center;justify-content:center}
    .login-box{background:#171d29;border:1px solid #2b3955;border-radius:12px;padding:16px;min-width:280px}
    .footer{padding:10px;text-align:center;color:#9aa8c4}
    .search{display:flex;gap:8px;margin-bottom:8px;flex-wrap:wrap}

    .chart-row{display:grid;grid-template-columns:34px 1fr 40px;gap:8px;align-items:center;margin:2px 0}
    .chart-row .bar{background:#101522;border:1px solid #2b3955;border-radius:6px;height:10px;overflow:hidden}
    .chart-row .fill{background:#4daaff;height:100%}

    .checkbox-container{display:flex;align-items:center;gap:8px;cursor:pointer;user-select:none}
    .checkbox-container input[type="checkbox"]{width:16px;height:16px}

    .ach-grid{display:grid;grid-template-columns:1fr;gap:6px}
    .ach-head{display:flex;gap:6px;align-items:center;flex-wrap:wrap;margin-bottom:6px}
    .badge{display:inline-block;padding:2px 8px;border-radius:999px;background:#1e2638;border:1px solid #2b3955;color:#cfe3ff;font-size:.85em}
    .badge.ok{background:#203020;border-color:#2f7a4e;color:#6df59a}
    .badge.err{background:#3a1f1f;border-color:#7a2f2f;color:#ff9b9b}
    .group-title{font-weight:800;letter-spacing:.04em;color:#9fc3ff;font-size:.9em;margin:8px 0 6px 0;text-transform:uppercase}
    .ach-row{display:flex;gap:8px;align-items:center;justify-content:space-between;padding:6px 0;border-bottom:1px dashed rgba(255,255,255,0.07)}
    .ach-row:last-child{border-bottom:none}
    .ach-id{color:#9aa8c4;font-size:.9em;margin-left:8px}
    .right-col{background:#141a25;border:1px solid #2b3955;border-radius:10px;padding:10px}
    .kbd{display:inline-block;background:#222d3f;border:1px solid #2b3955;border-radius:6px;padding:2px 6px;font-family:monospace;font-size:.86em;color:#cfe3ff}
    .hint{color:#9aa8c4;font-size:.95em;line-height:1.5}
    .hr{height:1px;background:#2b3955;margin:8px 0}
  </style>
</head>
<body>
  <header>
    <h1>VR Admin</h1>
    <div class="tabs">
      <button class="tab active" id="tab-claims">–ó–∞—è–≤–∫–∏</button>
      <button class="tab" id="tab-devices">–£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</button>
      <button class="tab" id="tab-backups">–ë—ç–∫–∞–ø—ã</button>
      <button class="tab" id="tab-logs">–õ–æ–≥–∏</button>
      <button class="tab" id="tab-stats">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
      <button class="tab" id="tab-demo">DEMO</button>
      <button class="tab" id="tab-fb">–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å</button>
      <button class="tab" id="tab-prizes">–ü—Ä–∏–∑—ã</button>
      <button class="tab" id="tab-logout" title="–í—ã–π—Ç–∏">Logout</button>
    </div>
  </header>

  <!-- –ó–∞—è–≤–∫–∏ -->
  <main id="view-claims">
    <div class="card">
      <div class="search">
        <select id="claims-status" title="–°—Ç–∞—Ç—É—Å">
          <option value="">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
          <option value="pending">pending</option>
          <option value="approved">approved</option>
          <option value="rejected">rejected</option>
          <option value="shipped">shipped</option>
          <option value="delivered">delivered</option>
        </select>
        <label class="muted">—Å</label>
        <input type="date" id="claims-from" />
        <label class="muted">–ø–æ</label>
        <input type="date" id="claims-to" />
        <button class="btn" onclick="resetPaging();loadClaims()">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
        <button class="btn" onclick="exportClaimsCSV()">–≠–∫—Å–ø–æ—Ä—Ç CSV</button>
        <div style="margin-left:auto;display:flex;gap:6px;align-items:center;">
          <button class="btn" onclick="prevPage()">‚óÄ</button>
          <span class="muted" id="claims-page-label">1</span>
          <button class="btn" onclick="nextPage()">‚ñ∂</button>
        </div>
      </div>
      <div class="list" id="claims-list"></div>
    </div>
    <div class="card">
      <div class="muted">–ö–ª–∏–∫ –ø–æ –∑–∞—è–≤–∫–µ —Å–ª–µ–≤–∞ ‚Äî –¥–ª—è –¥–µ–π—Å—Ç–≤–∏–π</div>
      <div id="claim-details" class="muted" style="margin-top:8px;">–ù–∏—á–µ–≥–æ –Ω–µ –≤—ã–±—Ä–∞–Ω–æ</div>
      <div style="margin-top:10px;display:none" id="claim-actions">
        <div id="claim-meta" class="muted" style="margin-bottom:8px;"></div>

        <div class="flex"><label class="muted">–ü—Ä–∏—á–∏–Ω–∞ (–¥–ª—è rejected):</label><input class="w100" id="claim-reason" placeholder="–ü—Ä–∏—á–∏–Ω–∞..."></div>
        <div style="margin-top:8px;" class="flex">
          <button class="btn ok" onclick="updateClaim('approved')">–û–¥–æ–±—Ä–∏—Ç—å</button>
          <button class="btn warn" onclick="updateClaim('rejected')">–û—Ç–∫–ª–æ–Ω–∏—Ç—å</button>
          <button class="btn" onclick="updateClaim('pending')">–í–µ—Ä–Ω—É—Ç—å –≤ pending</button>
        </div>

        <hr style="border-color:#2b3955;margin:10px 0;">

        <div class="flex">
          <input class="w100" id="claim-tracking" placeholder="–¢—Ä–µ–∫‚Äë–Ω–æ–º–µ—Ä (–¥–ª—è shipped)">
          <button class="btn" onclick="setTracking()">–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ</button>
          <button class="btn" onclick="markDelivered()">–ü–æ–ª—É—á–µ–Ω–æ</button>
        </div>

        <hr style="border-color:#2b3955;margin:10px 0;">

        <div class="flex">
          <label class="muted" style="min-width:90px;">–¶–≤–µ—Ç:</label>
          <select id="adm-color">
            <option value="">‚Äî</option>
            <option value="orange">–æ—Ä–∞–Ω–∂–µ–≤—ã–π (–∂–¥—ë—Ç)</option>
            <option value="green">–∑–µ–ª—ë–Ω—ã–π (–æ–∫)</option>
            <option value="red">–∫—Ä–∞—Å–Ω—ã–π</option>
            <option value="violet">—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π (–Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ)</option>
          </select>
        </div>
        <div class="flex" style="margin-top:6px;">
          <label class="muted" style="min-width:90px;">–ú–µ—Ç–∫–∏:</label>
          <input class="w100" id="adm-tags" placeholder="—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é">
        </div>
        <div class="flex" style="margin-top:6px;">
          <label class="muted" style="min-width:90px;">–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ:</label>
          <input type="datetime-local" id="adm-due">
        </div>
        <div class="flex" style="margin-top:6px;">
          <textarea id="adm-note" class="w100" placeholder="–ó–∞–º–µ—Ç–∫–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞"></textarea>
        </div>
        <div class="flex" style="margin-top:6px;">
          <button class="btn" onclick="saveClaimMeta()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –º–µ—Ç–∞</button>
          <button class="btn warn" onclick="deleteClaim()">–£–¥–∞–ª–∏—Ç—å –∑–∞—è–≤–∫—É</button>
        </div>

        <hr style="border-color:#2b3955;margin:10px 0;">

        <div class="muted">–ò—Å—Ç–æ—Ä–∏—è</div>
        <div class="list" id="claim-events" style="max-height:240px;"></div>

        <hr style="border-color:#2b3955;margin:10px 0;">

        <div style="font-weight:700; margin-bottom:6px;">VIP ‚Äî –∫–æ—à–µ–ª—ë–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</div>
        <div class="flex" style="flex-wrap:wrap; gap:6px;">
          <input id="vip-tg" placeholder="tg_id (–æ–ø—Ü.)" style="min-width:160px;">
          <input id="vip-user-id" placeholder="user_id (–æ–ø—Ü.)" style="min-width:260px;">
        </div>
        <div class="flex" style="margin-top:6px; flex-wrap:wrap; gap:6px;">
          <input id="vip-delta" placeholder="Œî –∫–æ–∏–Ω—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, 100 –∏–ª–∏ -50)" style="min-width:180px;">
          <input id="vip-reason" placeholder="–ü—Ä–∏—á–∏–Ω–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, bonus|penalty)" style="min-width:220px;">
        </div>
        <div class="flex" style="margin-top:6px; flex-wrap:wrap; gap:6px;">
          <button class="btn ok" onclick="adminVipAdjust(1)">–ù–∞—á–∏—Å–ª–∏—Ç—å</button>
          <button class="btn warn" onclick="adminVipAdjust(-1)">–°–ø–∏—Å–∞—Ç—å</button>
          <button class="btn" onclick="quickVipBonus(100)">+100</button>
          <button class="btn" onclick="quickVipBonus(500)">+500</button>
        </div>
        <div class="muted" id="vip-tx-msg" style="margin-top:6px;"></div>
      </div>
    </div>
  </main>

  <!-- –£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ -->
  <main id="view-devices" style="display:none">
    <div class="card">
      <div class="search">
        <input id="dev-q" placeholder="–ü–æ–∏—Å–∫ device_hash / –∏–º—è / tg_id..." class="w100">
        <button class="btn" onclick="loadDevices()">–ò—Å–∫–∞—Ç—å</button>
      </div>
      <div class="list" id="devices-list"></div>
    </div>
    <div class="card">
      <div class="muted">–ö–ª–∏–∫ –ø–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É —Å–ª–µ–≤–∞ ‚Äî –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è device_hash</div>
      <div id="devices-details" class="muted" style="margin-top:8px;">‚Äî</div>
    </div>
  </main>

  <!-- –ë—ç–∫–∞–ø—ã -->
  <main id="view-backups" style="display:none">
    <div class="card">
      <div class="search">
        <button class="btn" onclick="loadBackups()">–û–±–Ω–æ–≤–∏—Ç—å</button>
      </div>
      <div class="list" id="backups-list"></div>
    </div>
    <div class="card">
      <div class="muted">–ü—Ä–æ—Å–º–æ—Ç—Ä –±—ç–∫–∞–ø–∞ (read‚Äëonly)</div>
      <pre id="backup-viewer" style="max-height:70vh; overflow:auto; background:#0f1218; border:1px solid #2b3955; border-radius:10px; padding:10px; color:#cfe3ff;"></pre>
    </div>
  </main>

  <!-- –õ–æ–≥–∏ -->
  <main id="view-logs" style="display:none">
    <div class="card">
      <div class="search" style="gap:8px;">
        <select id="logs-type" title="–¢–∏–ø">
          <option value="">–í—Å–µ —Ç–∏–ø—ã</option>
          <option value="claim_create">claim_create</option>
          <option value="claim_update">claim_update</option>
          <option value="claim_shipped">claim_shipped</option>
          <option value="claim_delivered">claim_delivered</option>
          <option value="claim_cancel">claim_cancel</option>
          <option value="feedback">feedback</option>
          <option value="tg_link">tg_link</option>
          <option value="backup_save">backup_save</option>
          <option value="backup_user_latest">backup_user_latest</option>
          <option value="event_ingest">event_ingest</option>
          <option value="event_denied">event_denied</option>
        </select>
        <label class="muted">—Å</label>
        <input type="datetime-local" id="logs-from">
        <label class="muted">–ø–æ</label>
        <input type="datetime-local" id="logs-to">
        <input id="logs-pkey" placeholder="payload –∫–ª—é—á (a.b.c)" style="min-width:180px;">
        <select id="logs-pop" title="–û–ø–µ—Ä–∞—Ç–æ—Ä">
          <option value="contains">contains</option>
          <option value="eq">=</option>
          <option value="ne">‚â†</option>
          <option value="gt">&gt;</option>
          <option value="lt">&lt;</option>
          <option value="ge">‚â•</option>
          <option value="le">‚â§</option>
        </select>
        <input id="logs-pval" placeholder="–∑–Ω–∞—á–µ–Ω–∏–µ" style="min-width:140px;">
        <button class="btn" onclick="loadLogs()">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
        <button class="btn" onclick="exportLogs('csv')">–≠–∫—Å–ø–æ—Ä—Ç CSV</button>
        <button class="btn" onclick="exportLogs('ndjson')">–≠–∫—Å–ø–æ—Ä—Ç NDJSON</button>
        <button class="btn warn" onclick="deleteSelectedLogs()">–£–¥–∞–ª–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ</button>
      </div>
      <div class="list" id="logs-list"></div>
    </div>
    <div class="card">
      <div class="muted">–î–µ—Ç–∞–ª–∏ –ª–æ–≥–∞</div>
      <pre id="log-details" style="max-height:70vh; overflow:auto; background:#0f1218; border:1px solid #2b3955; border-radius:10px; padding:10px; color:#cfe3ff;"></pre>
    </div>
  </main>

  <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
  <main id="view-stats" style="display:none">
    <div class="card">
      <div class="search">
        <button class="btn" onclick="loadMetrics()">–û–±–Ω–æ–≤–∏—Ç—å</button>
      </div>
      <div id="metrics-box" class="list"></div>

      <div class="card" style="margin-top:8px;">
        <div style="font-weight:700;margin-bottom:8px;">–ì–ª–æ–±–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</div>
        <div class="row">
          <div>–û–±—â–∏–π –≤—ã–∫–ª—é—á–∞—Ç–µ–ª—å</div>
          <div><label class="muted">masterEnabled</label> <input type="checkbox" id="gs-master"></div>
        </div>
        <div class="row">
          <div>–û—Ç–ø—Ä–∞–≤–∫–∞ —Å –∫–ª–∏–µ–Ω—Ç–æ–≤ (/event)</div>
          <div><label class="muted">sendEnabled</label> <input type="checkbox" id="gs-send"></div>
        </div>
        <div class="row">
          <div>–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å UI –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏</div>
          <div><label class="muted">showUI</label> <input type="checkbox" id="gs-ui"></div>
        </div>
        <div class="row">
          <div>–¢—Ä–µ–±–æ–≤–∞—Ç—å Turnstile</div>
          <div><label class="muted">requireTurnstile</label> <input type="checkbox" id="gs-ts"></div>
        </div>
        <div class="row">
          <div>–í–∫–ª—é—á–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä –≤ –∞–¥–º–∏–Ω–∫–µ</div>
          <div><label class="muted">monitorEnabled</label> <input type="checkbox" id="gs-mon"></div>
        </div>
        <div class="row">
          <div>–°–æ–±–∏—Ä–∞—Ç—å –æ—á–µ—Ä–µ–¥—å –∫–ª–∏–µ–Ω—Ç–æ–≤</div>
          <div><label class="muted">collectClientQueue</label> <input type="checkbox" id="gs-cq"></div>
        </div>
        <div class="flex" style="margin-top:8px;">
          <button class="btn ok" onclick="saveGsConfig()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
          <button class="btn" onclick="loadGsConfig()">–û–±–Ω–æ–≤–∏—Ç—å</button>
        </div>
      </div>
    </div>

    <div class="card">
      <div class="muted">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ</div>
      <div class="muted">–ó–¥–µ—Å—å –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å –≥—Ä–∞—Ñ–∏–∫–∏/–≥–µ–æ –ø–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤.</div>
      <div class="card" style="margin-top:8px;">
        <div style="font-weight:700;margin-bottom:6px;">–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ (–ø–æ —á–∞—Å–∞–º/–ø–æ –¥–Ω—è–º) ‚Äî —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π; –≤ –∞–¥–º–∏–Ω–∫–µ –ø–æ–∫–∞ —Ç–æ–ª—å–∫–æ —Å–≤–æ–¥–∫–∞ –ø–æ —Ü–∏—Ñ—Ä–∞–º</div>
        <div id="stats-note" class="muted">–î–∞–Ω–Ω—ã–µ –±–µ—Ä—É—Ç—Å—è –∏–∑ /top?period=all|today|week|month</div>
      </div>
    </div>

    <div class="card" id="gs-health-card" style="margin-top:8px; display:none;">
      <div style="font-weight:700;margin-bottom:8px;">–ú–æ–Ω–∏—Ç–æ—Ä /event (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 5 –º–∏–Ω—É—Ç)</div>
      <div class="row"><div>OK</div><div class="muted" id="m-ok">0</div></div>
      <div class="row"><div>403 (Turnstile)</div><div class="muted" id="m-403">0</div></div>
      <div class="row"><div>429 (Rate limit)</div><div class="muted" id="m-429">0</div></div>
      <div class="row"><div>–ò–Ω—ã–µ –æ—Ç–∫–∞–∑—ã</div><div class="muted" id="m-other">0</div></div>
      <div class="row"><div>–û—á–µ—Ä–µ–¥—å –∫–ª–∏–µ–Ω—Ç–æ–≤ (avg / max)</div><div class="muted"><span id="m-q-avg">0</span> / <span id="m-q-max">0</span></div></div>
      <div class="flex" style="margin-top:8px;">
        <button class="btn" onclick="loadGsHealth()">–û–±–Ω–æ–≤–∏—Ç—å</button>
      </div>
    </div>
  </main>

  <!-- DEMO -->
  <main id="view-demo" style="display:none">
    <div class="card">
      <div class="search" style="gap:8px;">
        <input id="demo-tg" placeholder="tg_id" value="118759359" style="min-width:160px;">
        <button class="btn" onclick="loadDemoPanel()">–ó–∞–≥—Ä—É–∑–∏—Ç—å</button>
      </div>

      <div class="row">
        <div>–†–µ–∂–∏–º</div>
        <div><label class="muted">DEMO</label> <input type="checkbox" id="demo-mode"></div>
      </div>

      <div class="row">
        <div>–ò–º—è –≤ DEMO<br><span class="muted">(–≤–∏–¥–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é)</span></div>
        <div style="display:flex;gap:8px;align-items:center;">
          <input id="demo-dn" placeholder="VR Admin" style="min-width:160px;">
          <span class="badge" id="demo-level-pill" title="–¢–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å –¥–µ–º–æ-–∞–∫–∫–∞—É–Ω—Ç–∞">–£—Ä–æ–≤–µ–Ω—å: ‚Äî</span>
        </div>
      </div>

      <div class="flex" style="margin-top:8px;flex-wrap:wrap;gap:8px;">
        <button class="btn ok" onclick="saveDemoMode()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∂–∏–º</button>
        <button class="btn" onclick="buildAndSaveDemoBackup()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å DEMO‚Äë–±—ç–∫–∞–ø</button>
        <button class="btn warn" onclick="resetDemoClaims()">–û—á–∏—Å—Ç–∏—Ç—å DEMO‚Äë–∑–∞—è–≤–∫–∏</button>
      </div>

      <div class="card" style="margin-top:8px;">
        <div class="ach-head">
          <div class="badge">–í—Å–µ–≥–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π: <b id="demo-total">‚Äî</b></div>
          <div class="badge ok">–û—Ç–º–µ—á–µ–Ω–æ: <b id="demo-checked">‚Äî</b></div>
          <div class="badge" id="demo-visible-badge">–í–∏–¥–∏–º—ã—Ö: ‚Äî</div>
          <div class="badge" id="demo-secret-badge">–°–µ–∫—Ä–µ—Ç–Ω—ã—Ö: ‚Äî</div>
        </div>

        <div class="flex" style="flex-wrap:wrap;gap:6px;margin-bottom:8px;">
          <button class="btn" onclick="markAllVisible(true)">–û—Ç–º–µ—Ç–∏—Ç—å –≤–∏–¥–∏–º—ã–µ</button>
          <button class="btn" onclick="markAllSecret(true)">–û—Ç–º–µ—Ç–∏—Ç—å —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ</button>
          <button class="btn" onclick="markAll(true)">–û—Ç–º–µ—Ç–∏—Ç—å –≤—Å–µ 34</button>
          <button class="btn warn" onclick="markAll(false)">–°–Ω—è—Ç—å –≤—Å—ë</button>
        </div>

        <div class="flex" style="flex-wrap:wrap;gap:6px;margin-bottom:8px;">
          <button class="btn" onclick="preset5()">–ü—Ä–µ—Å–µ—Ç: 5 —É—Ä–æ–≤–Ω–µ–π</button>
          <button class="btn" onclick="presetFirstPrize()">–ü—Ä–µ—Å–µ—Ç: –¥–ª—è 1‚Äë–≥–æ –ø—Ä–∏–∑–∞</button>
          <button class="btn" onclick="presetSecondPrize()">–ü—Ä–µ—Å–µ—Ç: –¥–ª—è 2‚Äë–≥–æ –ø—Ä–∏–∑–∞</button>
        </div>

        <div id="demo-hint" class="muted" style="margin-bottom:8px;">‚Äî</div>

        <div id="demo-ach-box" class="list" style="max-height:60vh; padding-right:6px;"></div>
      </div>
    </div>

    <div class="card">
      <div style="font-weight:700;margin-bottom:8px;">DEMO‚Äë–∑–∞—è–≤–∫–∏</div>
      <div class="flex" style="gap:8px; flex-wrap:wrap; margin-bottom:8px;">
        <input id="demo-device" placeholder="device_hash (–æ–ø—Ü.)" style="min-width:220px;">
        <button class="btn" onclick="demoLoadClaims()">–û–±–Ω–æ–≤–∏—Ç—å</button>
      </div>
      <div id="demo-claims-list" class="list" style="max-height:40vh;"></div>
      <div class="flex" style="gap:6px; margin-top:8px; flex-wrap:wrap;">
        <input id="demo-claim-id" placeholder="claim_id" style="min-width:220px;">
        <input id="demo-tracking" placeholder="—Ç—Ä–µ–∫-–Ω–æ–º–µ—Ä (–¥–ª—è shipped)" style="min-width:220px;">
      </div>
      <div class="flex" style="gap:6px; margin-top:8px; flex-wrap:wrap;">
        <button class="btn" onclick="demoSetShipped()">–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ (—Ç—Ä–µ–∫)</button>
        <button class="btn ok" onclick="demoSetDelivered()">–î–æ—Å—Ç–∞–≤–ª–µ–Ω–æ</button>
        <button class="btn warn" onclick="resetDemoClaims()">–û—á–∏—Å—Ç–∏—Ç—å DEMO‚Äë–∑–∞—è–≤–∫–∏</button>
      <div class="card" style="margin-top:8px;">
        <div style="font-weight:700;margin-bottom:8px;">üé¨ –ê–≤—Ç–æ—Å—Ü–µ–Ω–∞—Ä–∏–π</div>

        <div class="row">
          <div>–°—Ç–∞—Ç—É—Å</div>
          <div id="scenario-status" class="badge">–Ω–µ –∑–∞–ø—É—â–µ–Ω</div>
        </div>

        <div class="row">
          <div>–¢–µ–∫—É—â–∏–π —ç—Ç–∞–ø</div>
          <div id="scenario-stage" class="muted">‚Äî</div>
        </div>

        <div class="row">
          <div>–í—ã–ø–æ–ª–Ω–µ–Ω–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π</div>
          <div id="scenario-achievements" class="muted">0</div>
        </div>

        <div class="flex" style="margin-top:8px; flex-wrap:wrap; gap:6px;">
          <label>–°–∫–æ—Ä–æ—Å—Ç—å:</label>
          <select id="scenario-speed">
            <option value="1">1x</option>
            <option value="2">2x</option>
            <option value="5">5x</option>
            <option value="10">10x</option>
            <option value="0">–ú–≥–Ω–æ–≤–µ–Ω–Ω–æ</option>
          </select>

          <label class="checkbox-container">
            <input type="checkbox" id="scenario-auto-prizes">
            <span>–ê–≤—Ç–æ-–≤—ã–±–æ—Ä –ø—Ä–∏–∑–æ–≤</span>
          </label>
        </div>

        <div class="flex" style="margin-top:8px; flex-wrap:wrap; gap:6px;">
          <button class="btn ok" onclick="startScenario()">‚ñ∂Ô∏è –ó–∞–ø—É—Å—Ç–∏—Ç—å</button>
          <button class="btn" onclick="pauseScenario()">‚è∏ –ü–∞—É–∑–∞</button>
          <button class="btn warn" onclick="resetScenario()">üîÑ –°–±—Ä–æ—Å–∏—Ç—å</button>
          <button class="btn" onclick="refreshScenarioStatus()">–û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å</button>
        </div>

        <div class="muted" id="scenario-hint" style="margin-top:8px;">
          –ê–≤—Ç–æ—Å—Ü–µ–Ω–∞—Ä–∏–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –≤—Å–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–π —Å–∫–æ—Ä–æ—Å—Ç—å—é.
          –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –≤–∏–¥–∏–º—ã—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π —Ç—Ä–µ–±—É–µ—Ç—Å—è –≤—ã–±–æ—Ä –ø—Ä–∏–∑–∞.
        </div>
      </div>
      </div>
    </div>

    <div class="right-col">
      <div style="font-weight:700;margin-bottom:8px;">–ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è DEMO</div>
      <div class="hint">
        <p><b>–†–µ–∂–∏–º DEMO</b> –ø–æ–∑–≤–æ–ª—è–µ—Ç —ç–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ tg_id, –Ω–µ –≤–ª–∏—è—è –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –æ–±—â—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É.</p>
        <div class="hr"></div>
        <p><b>–®–∞–≥–∏:</b></p>
        <ol>
          <li>–£–∫–∞–∂–∏—Ç–µ <span class="kbd">tg_id</span> –∏ –Ω–∞–∂–º–∏—Ç–µ <span class="kbd">–ó–∞–≥—Ä—É–∑–∏—Ç—å</span>.</li>
          <li>–í–∫–ª—é—á–∏—Ç–µ —Ç—É–º–±–ª–µ—Ä <span class="kbd">DEMO</span> –∏ –∑–∞–¥–∞–π—Ç–µ ¬´–ò–º—è –≤ DEMO¬ª (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚ÄúVR Admin‚Äù). –ù–∞–∂–º–∏—Ç–µ <span class="kbd">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∂–∏–º</span>.</li>
          <li>–í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –≥–∞–ª–æ—á–∫–∞–º–∏ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–µ—Å–µ—Ç—ã.</li>
          <li>–ù–∞–∂–º–∏—Ç–µ <span class="kbd">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å DEMO‚Äë–±—ç–∫–∞–ø</span>. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–¥ —ç—Ç–∏–º tg_id ‚Äî –ø—Ä–æ–≥—Ä–µ—Å—Å –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.</li>
        </ol>
        <div class="hr"></div>
        <p><b>–ó–∞—è–≤–∫–∏ –≤ DEMO:</b> —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –∏—Ö –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∫–∞–∫ –æ–±—ã—á–Ω–æ. –í DEMO —Å–æ–±—ã—Ç–∏—è /event –Ω–µ –ø–æ—Ä—Ç—è—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—á—ë—Ç—á–∏–∫–∏, –∑–∞—è–≤–∫–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ø–µ—Å–æ—á–Ω–∏—Ü–µ.</p>
        <p><b>–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —É—Ä–æ–≤–Ω—è</b> —Å–ø—Ä–∞–≤–∞ –æ—Ç –∏–º–µ–Ω–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å: X / 34.</p>
      </div>
    </div>
  </main>

  <!-- –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å -->
  <main id="view-fb" style="display:none">
    <div class="card">
      <div class="search">
        <input id="fb-q" placeholder="–ü–æ–∏—Å–∫ –∫–æ–¥–∞/—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞..." class="w100">
        <button class="btn" onclick="loadThreads()">–ò—Å–∫–∞—Ç—å</button>
      </div>
      <div class="list" id="thread-list"></div>
    </div>
    <div class="card">
      <div id="thread-head" class="muted">–í—ã–±–µ—Ä–∏—Ç–µ —Ç—Ä–µ–¥ —Å–ª–µ–≤–∞</div>
      <div class="list" id="msg-list" style="height:50vh;"></div>
      <div class="flex" style="margin-top:8px;">
        <input id="fb-reply" class="w100" placeholder="–û—Ç–≤–µ—Ç–∏—Ç—å...">
        <button class="btn primary" onclick="sendReply()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
      </div>
    </div>
  </main>

  <!-- –ü—Ä–∏–∑—ã -->
  <main id="view-prizes" style="display:none">
    <div class="card">
      <div class="search">
        <button class="btn" onclick="loadPrizesAdmin()">–û–±–Ω–æ–≤–∏—Ç—å</button>
      </div>
      <div class="list" id="adm-prizes-list"></div>
    </div>
    <div class="card">
      <div style="font-weight:700;margin-bottom:8px;">–†–µ–¥–∞–∫—Ç–æ—Ä</div>
      <div class="flex" style="flex-direction:column;gap:6px;">
        <input id="adm-prize-id" placeholder="ID (–ø—É—Å—Ç–æ –¥–ª—è –Ω–æ–≤–æ–≥–æ)">
        <input id="adm-prize-title" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ">
        <input id="adm-prize-short" placeholder="–ö–æ—Ä–æ—Ç–∫–æ">
        <textarea id="adm-prize-long" class="w100" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ"></textarea>
        <input id="adm-prize-img" placeholder="URL –∫–∞—Ä—Ç–∏–Ω–∫–∏ (img/...)">
        <div class="flex">
          <button class="btn ok" onclick="savePrize()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
          <button class="btn warn" onclick="deletePrize()">–£–¥–∞–ª–∏—Ç—å</button>
        </div>
      </div>
    </div>
  </main>

  <div class="footer">v1 ‚Ä¢ Basic Auth ‚Ä¢ –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø–æ HTTPS</div>

  <div id="login" class="login-modal" style="display:none;">
    <div class="login-box">
      <div style="font-weight:700;margin-bottom:8px;">–í—Ö–æ–¥ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</div>
      <div class="flex" style="flex-direction:column;gap:6px;">
        <input id="adm-user" placeholder="–õ–æ–≥–∏–Ω">
        <input id="adm-pass" placeholder="–ü–∞—Ä–æ–ª—å" type="password">
        <button class="btn primary" onclick="adminLogin()">–í–æ–π—Ç–∏</button>
      </div>
      <div id="login-err" class="muted" style="margin-top:8px;color:#ffb3b3;"></div>
    </div>
  </div>

  <!-- –û–¥–∏–Ω –≥–ª–∞–≤–Ω—ã–π –º–æ–¥—É–ª—å -->
  <script type="module" src="admin/main-admin.js"></script>
</body>
</html>
